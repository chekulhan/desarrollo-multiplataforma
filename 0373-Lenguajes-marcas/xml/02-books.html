<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
    pre {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 8px;
      font-family: monospace;
      white-space: pre-wrap;
    }
  </style>

</head>
<body>
    <h1>XML Demo con PARSE</h1>

    <!-- preformatted text , mantener lineas y breaks -->
    <pre id="output"></pre>

    
    <!-- encrustado xml doc -->
    <script id="xmlData" type="text/xml">
        <bookstore>
        <book id="bk101">
            <title>Learning XML</title>
            <author>John Doe</author>
            <price>29.99</price>
        </book>
        <book id="bk102">
            <title>Advanced XML</title>
            <author>Jane Smith</author>
            <price>39.99</price>
        </book>
        </bookstore>
    </script>

    
    <script>
        // Vamos a usar el DOMParser para parsear el string de XML
        // https://developer.mozilla.org/es/docs/Web/API/DOMParser

        const xml = document.getElementById("xmlData").textContent.trim();
        console.log(xml);
        const parser = new DOMParser(); //
        const xmlDoc = parser.parseFromString(xml, "text/xml");

        const titles = xmlDoc.getElementsByTagName("title");
        console.log(titles);

        // returns array
        const title = titles[1].textContent; // get element 0, 1
        


        const outputText = document.getElementById("output").innerText = title;
        
    </script>



<!--  

ACTIVIDADES:

1. Conseguir valor del atributo 'title'
2. Agregar un nuevo atributo al libro, categoria, que podria ser 'programming' o 'finanzas'. Mostrar el valor usando código.
3. Agregar un nuevo campo  <publisher>XML Press</publisher> a los lobros. Mostrar el valor usando código.
4. Buscar información en Internet sobre XPATH

<script>
  const xml = document.getElementById("xmlData").textContent.trim();
  const parser = new DOMParser();
  const xmlDoc = parser.parseFromString(xml, "text/xml");

  // Get the second book
  const books = xmlDoc.getElementsByTagName("book");
  const secondBook = books[1]; // index 1 = second book

  // Get the id attribute
  const bookId = secondBook.getAttribute("id");

  console.log(bookId); // "bk102"
</script>


-->

</body>
</html>