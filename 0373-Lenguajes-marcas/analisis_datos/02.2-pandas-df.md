# DATA FRAMES

![Series y DataFrames](../../x-assets/0373/series_dataframe.png)


```python
import pandas as pd

datos = {
    "Name": ["Alice", "Bob", "Charlie"],
    "Age": [25, 30, 22],
    "City": ["New York", "Los Angeles", "Chicago"]
}

df = pd.DataFrame(datos)
```

Vamos a ingerir los datos de un archivo CSV. Usando Colab, crear un archivo de CSV:

```csv
Name,Age,City
Alice,25,New York
Bob,30,Los Angeles
Charlie,22,Chicago
```

```python
df = pd.read_csv("example.csv")
print(df)
```

## Acceso
Aceder a las filas y columnas:
```python
df.iloc[1]
df.iloc[1:3]
df.iloc[[0, 2]]

# los tipos de datos que devuelve
type(df.iloc[2])
type(df.iloc[1:2])

# df.iloc[rows, cols]

df.iloc[[0, 2], [0,1]]
```


## Filtrar

Filtrando y consultando los datos:
```python
df[df["Age"] > 24]

df[df["City"] == "Chicago"]
df[(df["Age"] > 23) & (df["City"] == "New York")]
# Fijate que df["Age"] > 23  devueleve un Series de True o False, por eso hay que usar df[df[
df_not_nueva_york = df[~(df['City'] == 'New York')]

df.query("Age > 24")
df.query("not City == 'New York'")
df.query("City == 'New York' or City == 'Chicago'")
```

OJO:
& = AND
| = OR
~ = NOT

With .query(), use and, or, not instead of &, |, ~.


## Modificaciones

```python
df.loc[len(df)] = ["David", 35, "San Francisco"]
df = df.drop(index=1)
df.loc[df['Name'] == 'Charlie', 'Age'] = 23
```

## Avanzado - sin usar indíces

```python 
datos = {
    "Name": ["Alice", "Bob", "Charlie"],
    "Age": [25, 30, 22],
    "City": ["New York", "Los Angeles", "Chicago"]
}

# Set custom string index
df = pd.DataFrame(datos, index=["a", "b", "c"])

row = df.loc["b"]

```
# Actividad

Estas trabajando en una academia, y te han dado lo siguiente archivo de CSV con datos de los alumnos. Esta vez, si tienes acceso a Python.

students_results.csv:
```csv
id,name,age,score
1,Alice,23,88.5
2,Bob,30,92.0
3,Charlie,27,79.5
4,Diana,25,85.0
5,Evan,31,90.2
6,Fiona,22,76.8
7,George,28,81.4
8,Hannah,26,89.9
9,Ian,34,73.6
10,Jenna,24,91.1
11,Kevin,29,84.3
12,Laura,27,87.0
13,Michael,35,78.9
14,Nina,21,93.5
15,Oscar,32,80.0
16,Paula,28,86.7
17,Quinn,26,82.1
18,Rachel,33,88.0
19,Sam,24,75.4
20,Tina,29,90.8
21,Umar,31,83.6
22,Vera,27,89.2
23,Will,34,77.9
```

- Mostrar las primeras 5 filas
- Mostrar las últimas 5 filas
- Contar cuántos estudiantes hay
- Extraer un informe rápido con solo Nombre y Nota
- Sacar el resultado de estudiantes:
    - con nota mayor a 90
    - con edad menor a 25
    - con nota entre 80 y 90

